!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.ui=t.ui||{},t.ui.version="1.12.1";var e=0,i=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{(s=t._data(n,"events"))&&s.remove&&t(n).triggerHandler("remove")}catch(t){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,a,o,r={},l=e.split(".")[0];e=e.split(".")[1];var h=l+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][h.toLowerCase()]=function(e){return!!t.data(e,h)},t[l]=t[l]||{},n=t[l][e],a=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new a(t,e)},t.extend(a,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),o=new i,o.options=t.widget.extend({},o.options),t.each(s,function(e,s){return t.isFunction(s)?void(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,a=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=a,e}}()):void(r[e]=s)}),a.prototype=t.widget.extend(o,{widgetEventPrefix:n?o.widgetEventPrefix||e:e},r,{constructor:a,namespace:l,widgetName:e,widgetFullName:h}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,a,i._proto)}),delete n._childConstructors):i._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(e){for(var s,n,a=i.call(arguments,1),o=0,r=a.length;r>o;o++)for(s in a[o])n=a[o][s],a[o].hasOwnProperty(s)&&void 0!==n&&(e[s]=t.isPlainObject(n)?t.isPlainObject(e[s])?t.widget.extend({},e[s],n):t.widget.extend({},n):n);return e},t.widget.bridge=function(e,s){var n=s.prototype.widgetFullName||e;t.fn[e]=function(a){var o="string"==typeof a,r=i.call(arguments,1),l=this;return o?this.length||"instance"!==a?this.each(function(){var i,s=t.data(this,n);return"instance"===a?(l=s,!1):s?t.isFunction(s[a])&&"_"!==a.charAt(0)?(i=s[a].apply(s,r),i!==s&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+a+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+a+"'")}):l=void 0:(r.length&&(a=t.widget.extend.apply(null,[a].concat(r))),this.each(function(){var e=t.data(this,n);e?(e.option(a||{}),e._init&&e._init()):t.data(this,n,new s(a,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,a,o=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(o={},s=e.split("."),e=s.shift(),s.length){for(n=o[e]=t.widget.extend({},this.options[e]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=i}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,a){var o,r;for(r=0;i.length>r;r++)o=n.classesElementLookup[i[r]]||t(),o=t(e.add?t.unique(o.get().concat(e.element.get())):o.not(e.element).get()),n.classesElementLookup[i[r]]=o,s.push(i[r]),a&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,a={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return a.element.toggleClass(this._classes(a),s),this},_on:function(e,i,s){var n,a=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,o){function r(){return e||!0!==a.options.disabled&&!t(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+a.eventNamespace,c=l[2];c?n.on(h,c,r):i.on(h,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,a,o=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(t.isFunction(o)&&!1===o.apply(this.element[0],[i].concat(s))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?!0===n||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),o=!t.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){t(this)[e](),a&&a.call(s[0]),i()})}}),t.widget,t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var s=!1;t(document).on("mouseup",function(){s=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!s){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,a=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(n&&!a&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),s=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,s=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle"),a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)a.push("<span tabindex='0'></span>");this.handles=n.add(t(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,a,o,r,l,h=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-h.values(e));(n>i||n===i&&(e===h._lastChangedValue||h.values(e)===c.min))&&(n=i,a=t(this),o=e)}),!1!==this._start(e,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(a,null,"ui-state-active"),a.trigger("focus"),r=a.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-r.left-a.width()/2,top:e.pageY-r.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,a;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var s,n=this.value(),a=this.values();this._hasMultipleValues()&&(s=this.values(e?0:1),n=this.values(e),2===this.options.values.length&&!0===this.options.range&&(i=0===e?Math.min(s,i):Math.max(s,i)),a[e]=i),i!==n&&!1!==this._trigger("slide",t,this._uiHash(e,i,a))&&(this._hasMultipleValues()?this.values(e,i):this.value(i))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var s,n,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=n-1;s>=0;s--)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step;t=Math.round((t-e)/i)*i+e,t>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,s,n,a,o=this.options.range,r=this.options,l=this,h=!this._animateOff&&r.animate,c={};this._hasMultipleValues()?this.handles.each(function(s){i=(l.values(s)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[h?"animate":"css"](c,r.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===s&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},r.animate),1===s&&l.range[h?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&l.range[h?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?(s-n)/(a-n)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](c,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:100-i+"%"},r.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:100-i+"%"},r.animate))},_handleEvents:{keydown:function(e){var i,s,n,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,a)))return}switch(n=this.options.step,i=s=this._hasMultipleValues()?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:s=this._valueMin();break;case t.ui.keyCode.END:s=this._valueMax();break;case t.ui.keyCode.PAGE_UP:s=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;s=this._trimAlignValue(i+n);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;s=this._trimAlignValue(i-n)}this._slide(e,a,s)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}})}),function(t){var e;if("function"==typeof define&&define.amd)define(["leaflet"],t);else if("object"==typeof module&&"object"==typeof module.exports)e=require("leaflet"),module.exports=t(e);else{if(void 0===window.L)throw"Leaflet must be loaded first";t(window.L)}}(function(t){return t.Playback=t.Playback||{},t.Playback.Util=t.Class.extend({statics:{DateStr:function(t){return new Date(t).toLocaleDateString()},TimeStr:function(t){var e=new Date(t),i=e.getHours(),s=e.getMinutes(),n=e.getSeconds(),a="AM";return i>11&&(i%=12,a="PM"),0===i&&(i=12),s<10&&(s="0"+s),n<10&&(n="0"+n),i+":"+s+":"+n+" "+a},ParseGPX:function(t){for(var e={type:"Feature",geometry:{type:"MultiPoint",coordinates:[]},properties:{time:[],speed:[],altitude:[]},bbox:[]},i=$.parseXML(t),s=$(i).find("trkpt"),n=0,a=s.length;n<a;n++){var o=s[n],r=parseFloat(o.getAttribute("lat")),l=parseFloat(o.getAttribute("lon")),h=$(o).find("time").text(),c=$(o).find("ele").text(),u=new Date(h).getTime(),d=parseFloat(c),_=e.geometry.coordinates,p=e.properties,f=p.time,m=e.properties.altitude;_.push([l,r]),f.push(u),m.push(d)}return e}}}),t.Playback=t.Playback||{},t.Playback.MoveableMarker=t.Marker.extend({initialize:function(e,i,s){var n=i.marker||{};jQuery.isFunction(n)&&(n=n(s)),t.Marker.prototype.initialize.call(this,e,n),this.popupContent="",this.feature=s,n.getPopup&&(this.popupContent=n.getPopup(s)),i.popups&&this.bindPopup(this.getPopupContent()+e.toString()),n.labels&&(this.bindLabel?this.bindLabel(this.getPopupContent(),{noHide:!0}):this.bindTooltip&&this.bindTooltip(this.getPopupContent(),{permanent:!0}))},getPopupContent:function(){return""!==this.popupContent?"<b>"+this.popupContent+"</b><br/>":""},move:function(e,i){t.DomUtil.TRANSITION&&(this._icon&&(this._icon.style[t.DomUtil.TRANSITION]="all "+i+"ms linear",this._popup&&this._popup._wrapper&&(this._popup._wrapper.style[t.DomUtil.TRANSITION]="all "+i+"ms linear")),this._shadow&&(this._shadow.style[t.DomUtil.TRANSITION]="all "+i+"ms linear")),this.setLatLng(e),this._popup&&this._popup.setContent(this.getPopupContent()+"坐标:"+this._latlng.lng.toFixed(6)+","+this._latlng.lat.toFixed(6)),this.label&&this.label.setContent(this.getPopupContent()+"坐标:"+this._latlng.lng.toFixed(6)+","+this._latlng.lat.toFixed(6)),this._tooltip&&this.setTooltipContent(this.getPopupContent()+"坐标:"+this._latlng.lng.toFixed(6)+","+this._latlng.lat.toFixed(6))},_old__setPos:t.Marker.prototype._setPos,_updateImg:function(e,i,s){i=t.point(s).divideBy(2)._subtract(t.point(i));var n="";n+=" translate("+-i.x+"px, "+-i.y+"px)",n+=" rotate("+this.options.iconAngle+"deg)",n+=" translate("+i.x+"px, "+i.y+"px)",e.style[t.DomUtil.TRANSFORM]+=n},setIconAngle:function(t){this.options.iconAngle=t,this._map&&this.update()},_setPos:function(e){if(this._icon&&(this._icon.style[t.DomUtil.TRANSFORM]=""),this._shadow&&(this._shadow.style[t.DomUtil.TRANSFORM]=""),this._old__setPos.apply(this,[e]),this.options.iconAngle){var i,s=this.options.icon.options.iconAnchor,n=this.options.icon.options.iconSize;this._icon&&(i=this._icon,this._updateImg(i,s,n)),this._shadow&&(n=this.options.icon.options.shadowSize,i=this._shadow,this._updateImg(i,s,n))}}}),t.Playback=t.Playback||{},t.Playback.Track=t.Class.extend({initialize:function(t,e){e=e||{};var i=e.tickLen||250;this._staleTime=e.staleTime||36e5,this._fadeMarkersWhenStale=e.fadeMarkersWhenStale||!1,this._geoJSON=t,this._tickLen=i,this._ticks=[],this._marker=null,this._orientations=[];var s=t.properties.time;this._orientIcon=e.orientIcons;var n,a,o,r=t.geometry.coordinates,l=r[0],h=r[1],c=s[0],u=c,d=s[1],_=u%i;if(1===s.length)return 0!==_&&(u+=i-_),this._ticks[u]=r[0],this._orientations[u]=0,this._startTime=u,void(this._endTime=u);for(0!==_?(a=i-_,o=a/(d-c),u+=a,this._ticks[u]=this._interpolatePoint(l,h,o),this._orientations[u]=this._directionOfPoint(l,h),n=this._orientations[u]):(this._ticks[u]=l,this._orientations[u]=this._directionOfPoint(l,h),n=this._orientations[u]),this._startTime=u,u+=i;u<d;)o=(u-c)/(d-c),this._ticks[u]=this._interpolatePoint(l,h,o),this._orientations[u]=this._directionOfPoint(l,h),n=this._orientations[u],u+=i;for(var p=1,f=r.length;p<f;p++)for(l=r[p],h=r[p+1],u=c=s[p],d=s[p+1],_=u%i,0!==_&&d?(a=i-_,o=a/(d-c),u+=a,this._ticks[u]=this._interpolatePoint(l,h,o),h?(this._orientations[u]=this._directionOfPoint(l,h),n=this._orientations[u]):this._orientations[u]=n):(this._ticks[u]=l,h?(this._orientations[u]=this._directionOfPoint(l,h),n=this._orientations[u]):this._orientations[u]=n),u+=i;u<d;)o=(u-c)/(d-c),d-c>e.maxInterpolationTime?(this._ticks[u]=l,h?(this._orientations[u]=this._directionOfPoint(l,h),n=this._orientations[u]):this._orientations[u]=n):(this._ticks[u]=this._interpolatePoint(l,h,o),h?(this._orientations[u]=this._directionOfPoint(l,h),n=this._orientations[u]):this._orientations[u]=n),u+=i;this._endTime=u-i,this._lastTick=this._ticks[this._endTime]},_interpolatePoint:function(t,e,i){try{var s=[e[0]-t[0],e[1]-t[1]],n=[s[0]*i,s[1]*i];return[t[0]+n[0],t[1]+n[1]]}catch(s){console.log("err: cant interpolate a point"),console.log(["start",t]),console.log(["end",e]),console.log(["ratio",i])}},_directionOfPoint:function(t,e){return this._getBearing(t[1],t[0],e[1],e[0])},_getBearing:function(t,e,i,s){t=this._radians(t),e=this._radians(e),i=this._radians(i),s=this._radians(s);var n=s-e,a=Math.log(Math.tan(i/2+Math.PI/4)/Math.tan(t/2+Math.PI/4));return Math.abs(n)>Math.PI&&(n=n>0?-(2*Math.PI-n):2*Math.PI+n),(this._degrees(Math.atan2(n,a))+360)%360},_radians:function(t){return t*(Math.PI/180)},_degrees:function(t){return t*(180/Math.PI)},getFirstTick:function(){return this._ticks[this._startTime]},getLastTick:function(){return this._ticks[this._endTime]},getStartTime:function(){return this._startTime},getEndTime:function(){return this._endTime},getTickMultiPoint:function(){for(var t=this.getStartTime(),e=this.getEndTime(),i=[],s=[];t<=e;)s.push(t),i.push(this.tick(t)),t+=this._tickLen;return{type:"Feature",geometry:{type:"MultiPoint",coordinates:i},properties:{time:s}}},trackPresentAtTick:function(t){return t>=this._startTime},trackStaleAtTick:function(t){return this._endTime+this._staleTime<=t},tick:function(t){return t>this._endTime&&(t=this._endTime),t<this._startTime&&(t=this._startTime),this._ticks[t]},courseAtTime:function(t){return t>this._endTime&&(t=this._endTime),t<this._startTime&&(t=this._startTime),this._orientations[t]},setMarker:function(e,i){var s=null;if(s=e?this.tick(e):this.getFirstTick()){var n=new t.LatLng(s[1],s[0]);this._marker=new t.Playback.MoveableMarker(n,i,this._geoJSON),i.mouseOverCallback&&this._marker.on("mouseover",i.mouseOverCallback),i.clickCallback&&this._marker.on("click",i.clickCallback),this._fadeMarkersWhenStale&&!this.trackPresentAtTick(e)&&this._marker.setOpacity(0)}return this._marker},moveMarker:function(t,e,i){this._marker&&(this._fadeMarkersWhenStale&&(this.trackPresentAtTick(i)?this._marker.setOpacity(1):this._marker.setOpacity(0),this.trackStaleAtTick(i)&&this._marker.setOpacity(.25)),this._orientIcon&&this._marker.setIconAngle(this.courseAtTime(i)),this._marker.move(t,e))},getMarker:function(){return this._marker}}),t.Playback=t.Playback||{},t.Playback.TrackController=t.Class.extend({initialize:function(t,e,i){this.options=i||{},this._map=t,this._tracks=[],this.setTracks(e)},clearTracks:function(){for(;this._tracks.length>0;){var t=this._tracks.pop(),e=t.getMarker();e&&this._map.removeLayer(e)}},setTracks:function(t){this.clearTracks(),this.addTracks(t)},addTracks:function(t){if(t)if(t instanceof Array)for(var e=0,i=t.length;e<i;e++)this.addTrack(t[e]);else this.addTrack(t)},addTrack:function(t,e){if(t){var i=t.setMarker(e,this.options);i&&(i.addTo(this._map),this._tracks.push(t))}},tock:function(e,i){for(var s=0,n=this._tracks.length;s<n;s++){var a=this._tracks[s].tick(e),o=new t.LatLng(a[1],a[0]);this._tracks[s].moveMarker(o,i,e)}},getStartTime:function(){var t=0;if(this._tracks.length>0){t=this._tracks[0].getStartTime();for(var e=1,i=this._tracks.length;e<i;e++){var s=this._tracks[e].getStartTime();s<t&&(t=s)}}return t},getEndTime:function(){var t=0;if(this._tracks.length>0){t=this._tracks[0].getEndTime();for(var e=1,i=this._tracks.length;e<i;e++){var s=this._tracks[e].getEndTime();s>t&&(t=s)}}return t},getTracks:function(){return this._tracks}}),t.Playback=t.Playback||{},t.Playback.Clock=t.Class.extend({initialize:function(e,i,s){this._trackController=e,this._callbacksArry=[],i&&this.addCallback(i),t.setOptions(this,s),this._speed=this.options.speed,this._tickLen=this.options.tickLen,this._cursor=e.getStartTime(),this._transitionTime=this._tickLen/this._speed},_tick:function(t){if(t._cursor>t._trackController.getEndTime())return void clearInterval(t._intervalID);t._trackController.tock(t._cursor,t._transitionTime),t._callbacks(t._cursor),t._cursor+=t._tickLen},_callbacks:function(t){for(var e=this._callbacksArry,i=0,s=e.length;i<s;i++)e[i](t)},addCallback:function(t){this._callbacksArry.push(t)},start:function(){this._intervalID||(this._intervalID=window.setInterval(this._tick,this._transitionTime,this))},stop:function(){this._intervalID&&(clearInterval(this._intervalID),this._intervalID=null)},getSpeed:function(){return this._speed},isPlaying:function(){return!!this._intervalID},setSpeed:function(t){this._speed=t,this._transitionTime=this._tickLen/t,this._intervalID&&(this.stop(),this.start())},setCursor:function(t){var e=parseInt(t);if(e){var i=e%this._tickLen;0!==i&&(e+=this._tickLen-i),this._cursor=e,this._trackController.tock(this._cursor,0),this._callbacks(this._cursor)}},getTime:function(){return this._cursor},getStartTime:function(){return this._trackController.getStartTime()},getEndTime:function(){return this._trackController.getEndTime()},getTickLen:function(){return this._tickLen}}),t.Playback=t.Playback||{},t.Playback.TracksLineLayer=t.Class.extend({options:{
colors:["#ff7f50","#87cefa","#da70d6","#32cd32","#6495ed","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#40e0d0","#1e90ff","#ff6347","#7b68ee","#00fa9a","#ffd700","#6b8e23","#ff00ff","#3cb371","#b8860b","#30e0e0"],weight:6,fillOpacity:1,opacity:1},initialize:function(e,i){this._map=e,t.setOptions(this,i),this.tracksLineLayer=t.featureGroup([]),e.addLayer(this.tracksLineLayer)},clearLayer:function(){this.tracksLineLayer.clearLayers()},addLayer:function(e){t.Util.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var s=t.GeoJSON.coordsToLatLngs(e[i].geometry.coordinates),n=t.polyline(s,{color:this.options.colors[i],weight:this.options.weight,fillOpacity:this.options.fillOpacity,opacity:this.options.opacity,dashArray:this.options.dashArray});t.polylineDecorator,this.options.AddArrow&&(trackLineArrow=t.polylineDecorator(n,{patterns:[{offset:25,repeat:50,symbol:t.Symbol.arrowHead({pixelSize:this.options.arrowSize||8,pathOptions:{fillOpacity:1,weight:1,stroke:!0,color:"#d8d8d8",fillColor:this.options.arrowColor||"#fff"}})}]}),this.tracksLineLayer.addLayer(trackLineArrow)),e[i].properties.Label&&n.bindLabel(e[i].properties.Label,{noHide:!0});var a=e[i].geometry.coordinates[0],o=e[i].geometry.coordinates[e[i].geometry.coordinates.length-1];this.tracksLineLayer.addLayer(n),this.tracksLineLayer.addLayer(this._createMarker(t.GeoJSON.coordsToLatLng(a),"start")),this.tracksLineLayer.addLayer(this._createMarker(t.GeoJSON.coordsToLatLng(o),"end"))}this._map.addLayer(this.tracksLineLayer),this._map.fitBounds(this.tracksLineLayer.getBounds(),{maxZoom:17})},_createMarker:function(e,i){if("start"===i){var s=t.divIcon({iconSize:new t.Point(30,32),className:"qi-div-icon",html:"",iconAnchor:new t.Point(15,32)});return t.marker(e,{icon:s})}var n=t.divIcon({iconSize:new t.Point(30,32),className:"zhong-div-icon",html:"",iconAnchor:new t.Point(15,32)});return t.marker(e,{icon:n})}}),t.Playback.TracksLayer=t.Class.extend({initialize:function(e,i){var s=i.layer||{};jQuery.isFunction(s)&&(s=s(feature)),s.pointToLayer||(s.pointToLayer=function(e,i){return new t.CircleMarker(i,{radius:5})}),this.layer=new t.GeoJSON(null,s);var n={"GPS Tracks":this.layer};t.control.layers(null,n,{collapsed:!1}).addTo(e)},clearLayer:function(){for(var t in this.layer._layers)this.layer.removeLayer(this.layer._layers[t])},addLayer:function(t){this.layer.addData(t)}}),t.Playback=t.Playback||{},t.Playback.DateControl=t.Control.extend({options:{position:"bottomleft",dateFormatFn:t.Playback.Util.DateStr,timeFormatFn:t.Playback.Util.TimeStr},initialize:function(e,i){t.setOptions(this,i),this.playback=e},onAdd:function(e){this._container=t.DomUtil.create("div","leaflet-control-layers leaflet-control-layers-expanded");var i=this,s=this.playback,n=s.getTime(),a=t.DomUtil.create("div","datetimeControl",this._container);return this._date=t.DomUtil.create("p","",a),this._time=t.DomUtil.create("p","",a),this._date.innerHTML=this.options.dateFormatFn(n),this._time.innerHTML=this.options.timeFormatFn(n),s.addCallback(function(t){i._date.innerHTML=i.options.dateFormatFn(t),i._time.innerHTML=i.options.timeFormatFn(t)}),this._container}}),t.Playback.PlayControl=t.Control.extend({options:{position:"bottomright"},initialize:function(t){this.playback=t},onAdd:function(e){function i(){n.isPlaying()?(n.stop(),s._button.innerHTML="Play"):(n.start(),s._button.innerHTML="Stop")}this._container=t.DomUtil.create("div","leaflet-control-layers leaflet-control-layers-expanded");var s=this,n=this.playback;n.setSpeed(100);var a=t.DomUtil.create("div","playControl",this._container);this._button=t.DomUtil.create("button","",a),this._button.innerHTML="Play";var o=t.DomEvent.stopPropagation;return t.DomEvent.on(this._button,"click",o).on(this._button,"mousedown",o).on(this._button,"dblclick",o).on(this._button,"click",t.DomEvent.preventDefault).on(this._button,"click",i,this),this._container}}),t.Playback.SliderControl=t.Control.extend({options:{position:"bottomleft"},initialize:function(t){this.playback=t},onAdd:function(e){function i(t){var e=Number(t.target.value);n.setCursor(e)}this._container=t.DomUtil.create("div","leaflet-control-layers leaflet-control-layers-expanded");var s=this,n=this.playback;this._slider=t.DomUtil.create("input","slider",this._container),this._slider.type="range",this._slider.min=n.getStartTime(),this._slider.max=n.getEndTime(),this._slider.value=n.getTime();var a=t.DomEvent.stopPropagation;return t.DomEvent.on(this._slider,"click",a).on(this._slider,"mousedown",a).on(this._slider,"dblclick",a).on(this._slider,"click",t.DomEvent.preventDefault).on(this._slider,"change",i,this).on(this._slider,"mousemove",i,this),n.addCallback(function(t){s._slider.value=t}),e.on("playback:add_tracks",function(){s._slider.min=n.getStartTime(),s._slider.max=n.getEndTime(),s._slider.value=n.getTime()}),this._container}}),t.Playback=t.Playback.Clock.extend({statics:{MoveableMarker:t.Playback.MoveableMarker,Track:t.Playback.Track,TrackController:t.Playback.TrackController,Clock:t.Playback.Clock,Util:t.Playback.Util,TracksLayer:t.Playback.TracksLayer,TracksLineLayer:t.Playback.TracksLineLayer,PlayControl:t.Playback.PlayControl,DateControl:t.Playback.DateControl,SliderControl:t.Playback.SliderControl},options:{tickLen:250,speed:1,maxInterpolationTime:3e5,tracksLayer:!1,tracksLineLayer:!0,playControl:!1,dateControl:!1,sliderControl:!1,layer:{},marker:{}},initialize:function(e,i,s,n){t.setOptions(this,n),this._map=e,this._trackController=new t.Playback.TrackController(e,null,this.options),t.Playback.Clock.prototype.initialize.call(this,this._trackController,s,this.options),this.options.tracksLayer&&(this._tracksLayer=new t.Playback.TracksLayer(e,n)),this.options.tracksLineLayer&&(this._tracksLineLayer=new t.Playback.TracksLineLayer(e,n)),this.setData(i),this.options.playControl&&(this.playControl=new t.Playback.PlayControl(this),this.playControl.addTo(e)),this.options.sliderControl&&(this.sliderControl=new t.Playback.SliderControl(this),this.sliderControl.addTo(e)),this.options.dateControl&&(this.dateControl=new t.Playback.DateControl(this,n),this.dateControl.addTo(e))},clearData:function(){this._intervalID&&clearInterval(this._intervalID),this._trackController.clearTracks(),this._tracksLayer&&this._tracksLayer.clearLayer(),this._tracksLineLayer&&this._tracksLineLayer.clearLayer()},setData:function(t){this.clearData(),this.addData(t,this.getTime()),this.setCursor(this.getStartTime())},addData:function(e,i){if(e){if(e instanceof Array)for(var s=0,n=e.length;s<n;s++)this._trackController.addTrack(new t.Playback.Track(e[s],this.options),i);else this._trackController.addTrack(new t.Playback.Track(e,this.options),i);this._map.fire("playback:set:data"),this.options.tracksLayer&&this._tracksLayer.addLayer(e),this.options.tracksLineLayer&&this._tracksLineLayer.addLayer(e)}},destroy:function(){this.clearData(),this.playControl&&this._map.removeControl(this.playControl),this.sliderControl&&this._map.removeControl(this.sliderControl),this.dateControl&&this._map.removeControl(this.dateControl)}}),t.Map.addInitHook(function(){this.options.playback&&(this.playback=new t.Playback(this))}),t.playback=function(e,i,s,n){return new t.Playback(e,i,s,n)},t.Playback}),L.Playback=L.Playback||{},L.Playback.Control=L.Control.extend({_html:'<footer class="lp">  <div class="transport">    <div class="navbar">      <div class="navbar-inner">        <ul class="nav">          <li class="ctrl">            <a id="play-pause" href="#"><i id="play-pause-icon" class="fa fa-play fa-lg"></i></a>          </li>          <li class="ctrl dropup">            <a id="clock-btn" class="clock" data-toggle="dropdown" href="#">              <span id="cursor-date"></span><br/>              <span id="cursor-time"></span>            </a>          </li>        </ul>        <ul class="nav pull-right">          <li>            <div id="time-slider"></div>          </li>          <li class="ctrl dropup">            <a id="speed-btn" data-toggle="dropdown" href="#"><i class="fa fa-dashboard fa-lg"></i> <span id="speed-icon-val" class="speed">1</span>x</a>            <div class="speed-menu dropdown-menu" role="menu" aria-labelledby="speed-btn">              <label>播放速度</label>              <input id="speed-input" class="span1 speed" type="text" value="1" />              <div id="speed-slider"></div>            </div>          </li>        </ul>      </div>    </div>  </div> </footer>',initialize:function(t){this.playback=t,t.addCallback(this._clockCallback)},onAdd:function(t){var e=this._html;return this._container=L.DomUtil.create("div"),this._container.innerHTML=e,this._setup(),L.DomEvent.disableClickPropagation(this._container),this._container},onRemove:function(t){this._container=null,$(window).off("click")},_setup:function(){var t=this,e=this.playback;$(this._container).find("#play-pause").click(function(){!1===e.isPlaying()?(e.start(),$(t._container).find("#play-pause-icon").removeClass("fa-play"),$(t._container).find("#play-pause-icon").addClass("fa-pause")):(e.stop(),$(t._container).find("#play-pause-icon").removeClass("fa-pause"),$(t._container).find("#play-pause-icon").addClass("fa-play"))});var i=e.getStartTime();$(this._container).find("#cursor-date").html(L.Playback.Util.DateStr(i)),$(this._container).find("#cursor-time").html(L.Playback.Util.TimeStr(i)),$(this._container).find("#time-slider").slider({min:e.getStartTime(),max:e.getEndTime(),step:e.getTickLen(),value:e.getTime(),slide:function(i,s){e.setCursor(s.value),$(t._container).find("#cursor-time").val(s.value.toString()),$(t._container).find("#cursor-time-txt").html(new Date(s.value).toString())}}),$(this._container).find("#speed-btn").on("click",function(t){t.preventDefault,t.stopPropagation(),$(this).parent().addClass("open")}),$(window).click(function(e){var i=$(t._container).find(".speed-menu");$.contains(i[0],e.originalEvent.srcElement)||i[0]==e.originalEvent.srcElement||i.parent().removeClass("open")}),$(this._container).find(".speed").html(this.playback.getSpeed()).val(this.playback.getSpeed()),$(this._container).find("#speed-slider").slider({min:0,max:59,step:1,value:t._speedToSliderVal(this.playback.getSpeed()),orientation:"vertical",slide:function(i,s){var n=t._sliderValToSpeed(parseFloat(s.value));e.setSpeed(n),$(t._container).find(".speed").html(n).val(n)}}),$(this._container).find("#speed-input").on("keyup",function(i){var s=parseFloat($(t._container).find("#speed-input").val());s&&(e.setSpeed(s),$(t._container).find("#speed-slider").slider("value",t._speedToSliderVal(s)),$(t._container).find("#speed-icon-val").html(s),13===i.keyCode&&$(t._container).find(".speed-menu").dropdown("toggle"))})},_clockCallback:function(t){$("#cursor-date").html(L.Playback.Util.DateStr(t)),$("#cursor-time").html(L.Playback.Util.TimeStr(t)),$("#time-slider").slider("value",t)},_speedToSliderVal:function(t){return t<1?10*t-10:t-1},_sliderValToSpeed:function(t){return t<0?parseFloat((1+t/10).toFixed(2)):t+1},_combineDateAndTime:function(t,e){var i=t.getFullYear(),s=t.getMonth(),n=t.getDate(),a=e.hours||e.hour;"PM"===e.meridian&&12!==a&&(a+=12);var o=e.minutes||e.minute,r=e.seconds||e.second;return new Date(i,s,n,a,o,r).getTime()}});